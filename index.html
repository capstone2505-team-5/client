<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/src/assets/icons/Updated_OG_Symbol.svg">
    <!-- Additional icon sizes for better display -->
    <link rel="apple-touch-icon" sizes="180x180" href="/src/assets/icons/Updated_OG_Symbol.svg">
    <link rel="icon" type="image/svg+xml" sizesg="32x32" href="/src/assets/icons/Updated_OG_Symbol.svg">
    <link rel="icon" type="image/svg+xml" sizes="16x16" href="/src/assets/icons/Updated_OG_Symbol.svg">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#fecf2c">
    <title>LLMonade</title>
    <style>
      /* Static loading skeleton - only shows before React loads */
      #loading-skeleton {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #1a1a1a;
        display: none; /* Hidden by default */
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }

      /* Skeleton elements */
      .skeleton-logo {
        width: 800px;
        height: 100px;
        background: linear-gradient(90deg, #333 25%, #444 50%, #333 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
        margin-bottom: 20px;
        border-radius: 8px;
      }

      .skeleton-text {
        width: 600px;
        height: 20px;
        background: linear-gradient(90deg, #333 25%, #444 50%, #333 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
        border-radius: 4px;
        margin-bottom: 40px;
      }

      .skeleton-card {
        width: 90%;
        max-width: 1200px;
        height: 400px;
        background: #2a2a2a;
        border-radius: 12px;
        padding: 24px;
        border: 1px solid #444;
      }

      .skeleton-title {
        width: 400px;
        height: 32px;
        background: linear-gradient(90deg, #333 25%, #444 50%, #333 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
        border-radius: 4px;
        margin: 0 auto 16px;
      }

      .skeleton-steps {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 16px;
        margin-top: 24px;
      }

      .skeleton-step {
        padding: 20px;
        background: #333;
        border-radius: 8px;
        border: 1px solid #444;
      }

      .skeleton-circle {
        width: 28px;
        height: 28px;
        background: linear-gradient(90deg, #444 25%, #555 50%, #444 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
        border-radius: 50%;
        margin-bottom: 12px;
      }

      .skeleton-line {
        height: 16px;
        background: linear-gradient(90deg, #444 25%, #555 50%, #444 75%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
        border-radius: 4px;
        margin-bottom: 8px;
      }

      .skeleton-line.short { width: 80%; }
      .skeleton-line.long { width: 100%; }

      @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
      }

      /* Hide skeleton on smaller screens */
      @media (max-width: 1000px) {
        .skeleton-steps {
          grid-template-columns: repeat(2, 1fr);
        }
        .skeleton-logo {
          width: 90%;
          max-width: 600px;
        }
        .skeleton-text {
          width: 90%;
          max-width: 400px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Static Loading Skeleton - Only shows on home page before React loads -->
    <div id="loading-skeleton">
      <div class="skeleton-logo"></div>
      <div class="skeleton-text"></div>
      
      <div class="skeleton-card">
        <div class="skeleton-title"></div>
        <div class="skeleton-text" style="width: 500px; margin: 0 auto 24px;"></div>
        
        <div class="skeleton-steps">
          <div class="skeleton-step">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
            <div class="skeleton-line" style="width: 90%;"></div>
          </div>
          <div class="skeleton-step">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
            <div class="skeleton-line" style="width: 85%;"></div>
          </div>
          <div class="skeleton-step">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
            <div class="skeleton-line" style="width: 95%;"></div>
          </div>
          <div class="skeleton-step">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
            <div class="skeleton-line" style="width: 88%;"></div>
          </div>
          <div class="skeleton-step">
            <div class="skeleton-circle"></div>
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
            <div class="skeleton-line" style="width: 92%;"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="root"></div>
    
    <script>
      // Show skeleton only on home page and hide when React loads
      (function() {
        const isHomePage = window.location.pathname === '/' || window.location.pathname === '';
        const skeleton = document.getElementById('loading-skeleton');
        
        if (isHomePage && skeleton) {
          skeleton.style.display = 'flex';
          
          // Hide skeleton only when Home component has actually rendered
          const hideSkeletonWhenReady = () => {
            // Check for specific Home component content, not just React mounting
            const root = document.getElementById('root');
            if (root) {
              // Look for the logo image which indicates Home component is rendered
              const logoImg = root.querySelector('img[alt*="LLMonade"]');
              // Or look for the main card content
              const mainCard = root.querySelector('[class*="MuiCard-root"]');
              // Or check if there's substantial content (not just loading states)
              const hasSubstantialContent = root.innerText.length > 100;
              
              if (logoImg || (mainCard && hasSubstantialContent)) {
                skeleton.style.opacity = '0';
                skeleton.style.transition = 'opacity 0.3s ease-out';
                setTimeout(() => {
                  skeleton.style.display = 'none';
                }, 300);
                return true;
              }
            }
            return false;
          };

          // Check periodically if Home component has loaded
          let attempts = 0;
          const maxAttempts = 1500; // 15 seconds max (reasonable for slow 3G)
          const checkInterval = setInterval(() => {
            attempts++;
            if (hideSkeletonWhenReady() || attempts >= maxAttempts) {
              clearInterval(checkInterval);
              if (attempts >= maxAttempts) {
                // Force hide after 10 seconds
                skeleton.style.opacity = '0';
                skeleton.style.transition = 'opacity 0.3s ease-out';
                setTimeout(() => {
                  skeleton.style.display = 'none';
                }, 300);
              }
            }
          }, 100);
        }
      })();
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
